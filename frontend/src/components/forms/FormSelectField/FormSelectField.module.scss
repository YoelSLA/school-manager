@use "@/styles/form-control.base.scss" as *;

.form-select {
	@include form-field;

	/* =====================
	   LABEL
	===================== */

	&__label {
		@include form-label;
	}

	/* =====================
	   CONTROL
	===================== */

	&__control {
		position: relative;
		display: flex;
		align-items: center;
	}

	&__select {
		@include form-control;

		/* espacio para chevron + error icon */
		padding-right: 56px;
		appearance: none;

		&:not(:focus):has(option[value=""]:checked) {
			color: #9ca3af;
		}

		&:disabled {
			background-color: #f8fafc;
			color: #9ca3af;
			cursor: not-allowed;
			border-color: #e5e7eb;
		}
	}

	/* =====================
	   CHEVRON
	===================== */

	&__chevron {
		position: absolute;
		right: 12px;
		top: 50%;
		transform: translateY(-50%);

		display: inline-flex;
		align-items: center;
		justify-content: center;

		font-size: 12px;
		color: #6b7280;
		pointer-events: none;
	}

	&__select:disabled+&__chevron {
		color: #9ca3af;
	}

	/* =====================
	   ERROR STATE
	===================== */

	&--error {
		.form-select__select {
			@include form-control-error;
		}
	}

	/* =====================
	   ERROR ICON
	===================== */

	&__error-icon {
		position: absolute;
		right: 30px;
		/* ðŸ”‘ clave: fuera del select */
		top: 50%;
		transform: translateY(-50%);

		font-size: 14px;
		color: #dc2626;
		pointer-events: none;
	}

	/* =====================
	   ERROR TOOLTIP
	===================== */

	&__error-tooltip {
		@include form-error-tooltip;
	}

	/* Mostrar tooltip solo en interacciÃ³n */
	&--error:hover &__error-tooltip,
	&--error:focus-within &__error-tooltip {
		opacity: 1;
		transform: translateY(0);
	}
}